<div id='info'>
  <h1><%= @topic.name %></h1>
  <div>
    <label>简介：<%= @topic.introduction %></label>
  </div>
  <div>
    <label>章节数量：<%= @topic.chapter_count %></label>
  </div>
  <div>
    <label>时长：<%= @topic.duration %></label>
  </div>
  <%= link_to '修改', edit_topic_path(@topic) %>
</div>

<div id='table'>
  <%= link_to '添加章节', new_topic_chapter_path(@topic) %>
  <%= link_to '发布通知', new_topic_announcement_path(@topic) %>
  <table>
    <tr>
      <th>章节名称</th>
      <th>操作</th>
    </tr>
    <% @topic.chapters.each do |chapter| %>
      <tr>
        <td><%= link_to chapter.name, chapter %></td>
        <td>
          <%= link_to '修改', edit_chapter_path(chapter) %>
          <%= link_to '删除', chapter, :method => :delete, :data => {:confirm => "确实要删除“#{chapter.name}”吗？"} %>
        </td>
      </tr>
    <% end %>
  </table>
  <table>
    <tr>
      <th>通知标题</th>
      <th>操作</th>
    </tr>
    <% @topic.announcements.each do |announcement| %>
      <tr>
        <td><%= announcement.title %></td>
        <td>
          <%= link_to '修改', edit_announcement_path(announcement) %>
          <%= link_to '删除', announcement, :method => :delete, :data => {:confirm => "确实要删除这条通知吗？"} %>
        </td>
      </tr>
    <% end %>
  </table>
</div>
